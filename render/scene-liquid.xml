<scene version='2.2.1'>
    <default name="spp" value="$spp"/>
	<default name="res" value="$res"/>
	<default name="scale" value="$cubescale"/>

	<emitter type="envmap">
		<string name="filename" value="lilienstein_4k.hdr"/>
	</emitter>

    <integrator type='path'>
        <integer name="max_depth" value="4"/>
    </integrator>

	<sensor type="perspective">
		<float name="near_clip" value="1"/>
		<float name="far_clip" value="1000"/>

		<transform name="to_world">
			<lookat target="0.0, 0.0, 0.0"
					origin="$eyepos"
					up	="0.0, 1.0, 0.0"/>
		</transform>

		<film type="hdrfilm">
			<rfilter type="box"/>
			<integer name="width" value="$res"/>
			<integer name="height" value="$res"/>
			<string name="pixel_format" value="rgb"/>
			<string name="component_format" value="float16"/>
		</film>

		<sampler type="independent">
			<integer name="sample_count" value="$spp"/>
		</sampler>
	</sensor>

    <shape type="ply">
        <string name="filename" value="$meshname"/>
        <bsdf type="diffuse">
            <rgb name="reflectance" value="0.39, 0.58, 0.93"/>
        </bsdf>
        <!--
        <bsdf type="dielectric">
            <string name="int_ior" value="water"/>
            <string name="ext_ior" value="air"/>
        </bsdf>
        -->
    </shape>

    <shape type="ply">
        <string name="filename" value="cube.ply"/>
        <transform name="to_world">
			<scale x="$scale" y="$scale" z="$scale"/>
            <translate x="16" y="-$scale" z="16"/>
		</transform>
    </shape>



</scene>
